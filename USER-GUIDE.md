# üìñ AI Book Writer - Complete User Guide

## Table of Contents

1. [Introduction](#introduction)
2. [System Overview](#system-overview)
3. [Creating Your Story Bible](#creating-your-story-bible)
4. [Workflow Guide](#workflow-guide)
5. [Understanding the AI Agents](#understanding-the-ai-agents)
6. [Continuity System Explained](#continuity-system-explained)
7. [Advanced Features](#advanced-features)
8. [Tips for Best Results](#tips-for-best-results)
9. [Troubleshooting](#troubleshooting)

---

## Introduction

Welcome to the **AI Book Writer with Bulletproof Continuity**! This system uses 6 specialized AI agents powered by Claude to help you write novels with perfect consistency across characters, plot, locations, and timeline.

### What Makes This System Special?

‚úì **Story Bible Enforcer** - Ensures every chapter follows your core rules
‚úì **Character State Tracking** - Remembers what characters know, where they are, injuries, possessions
‚úì **Location Registry** - Maintains consistent descriptions of places
‚úì **Plot Point Tracker** - Keeps story on track with your outline
‚úì **Timeline Validation** - Prevents temporal inconsistencies
‚úì **Real-time Continuity Checking** - Validates during generation, not after

---

## System Overview

### The 6 AI Agents

1. **Architect Agent** üìê
   - Creates detailed chapter briefs
   - Ensures plot progression
   - Maintains story structure
   - Plans character arcs

2. **Writer Agent** ‚úçÔ∏è
   - Writes full chapter content
   - Follows the brief exactly
   - Maintains writing style
   - Respects word count targets

3. **Continuity Agent** üîç
   - Deep continuity analysis
   - Checks 5 continuity categories
   - Provides detailed issue reports
   - Scores 0-100

4. **Story Bible Enforcer** üìã
   - Validates against your rules
   - Checks world-building consistency
   - Enforces tone and style
   - Flags violations

5. **Timeline Agent** ‚è∞
   - Extracts all events
   - Creates chronological timeline
   - Tracks time passage
   - Identifies inconsistencies

6. **Character Agent** üë•
   - Extracts character information
   - Tracks appearances
   - Records state changes
   - Maps relationships

---

## Creating Your Story Bible

The Story Bible is the **most important part** of getting great results. Think of it as the constitution of your story world.

### What to Include

#### 1. Setting & World-Building

```markdown
SETTING:
- When: Medieval fantasy, year 1247 (in-world calendar)
- Where: Kingdom of Eldoria, northern continent
- Climate: Temperate, harsh winters
- Society: Feudal monarchy, strict class system
- Technology Level: Medieval (no gunpowder)
```

#### 2. Magic/Special Systems

```markdown
MAGIC SYSTEM:
- Source: Elemental magic from ancient spirits
- Who can use it: Only those born with "The Spark" (rare, 1 in 1000)
- Limitations:
  * Drains user's physical energy
  * Cannot bring back the dead
  * Cannot control free will
  * Weakens with distance from natural elements
- Cost: Overuse causes "Spirit Sickness" (fever, hallucinations)
```

#### 3. Main Characters

```markdown
CHARACTERS:

Princess Elena Stormborn
- Age: 18
- Physical: Red hair (wavy, shoulder-length), green eyes, 5'6", athletic build
- Personality: Brave but impulsive, kind, stubborn, intelligent
- Background: Lost parents at age 10, raised by her uncle
- Skills: Sword fighting, horseback riding, speaking 3 languages
- Fatal Flaw: Trusts too easily
- Arc: Will learn that mercy can be strength
- Voice: Formal in public, playful with friends
- Quirks: Taps fingers when nervous, loves strawberries

Sir Marcus Ironheart
- Age: 35
- Physical: 6'2", muscular, gray-streaked brown hair, blue eyes, scar on left cheek
- Personality: Loyal, serious, protective, haunted by past
- Background: Former captain of the royal guard
- Skills: Master swordsman, tactical genius
- Secret: Failed to save the king (Elena's father)
- Arc: Will learn to forgive himself
- Voice: Gruff but respectful
- Quirks: Polishes sword when thinking

Lord Malric the Usurper
- Age: 42
- Physical: Tall, gaunt, black hair, pale skin, always in dark robes
- Personality: Cunning, patient, ruthless, charismatic
- Background: Elena's uncle, studied dark magic
- Motivation: Believes only he can save Eldoria from coming war
- Powers: Dark magic, mind manipulation
- Weakness: Arrogant, underestimates Elena
- Arc: Tragic villain who believes he's the hero
```

#### 4. Plot Structure

```markdown
PLOT OUTLINE:

ACT I: The Fall (Chapters 1-7)
- Ch 1: Elena's 18th birthday celebration
- Ch 2: Malric's coup, Elena barely escapes
- Ch 3: Elena meets Marcus in the forest
- Ch 4: Journey to the resistance hideout
- Ch 5: Elena discovers her magical powers
- Ch 6: First attempt to fight back fails
- Ch 7: Elena decides to learn magic properly

ACT II: The Rise (Chapters 8-18)
- Ch 8-10: Magic training montage
- Ch 11: Elena learns Malric is her uncle
- Ch 12-15: Gathering allies, small victories
- Ch 16: Major setback, resistance base attacked
- Ch 17: Elena's darkest moment
- Ch 18: Revelation about her father's death

ACT III: The Reckoning (Chapters 19-26)
- Ch 19-22: Final preparations
- Ch 23-24: Battle for the capital
- Ch 25: Confrontation with Malric
- Ch 26: Resolution and coronation
```

#### 5. Key Themes & Rules

```markdown
THEMES:
- Power vs. Responsibility
- Mercy vs. Justice
- Nature of leadership
- Healing from trauma

TONE:
- Serious and dramatic
- Moments of hope and humor
- No graphic violence
- Romance subplot is subtle, not primary

WRITING STYLE:
- Literary fiction with vivid descriptions
- Active voice
- Show don't tell for emotions
- Each chapter ends with a hook
- Target: 5,000 words per chapter

CONSTRAINTS:
- No modern slang or technology
- No plot armor - characters can be injured/die
- Magic has real consequences
- Political intrigue should be complex but understandable
```

#### 6. Locations

```markdown
LOCATIONS:

Stormcrest Castle
- Description: Massive stone fortress on a cliff overlooking the sea
- Architecture: Medieval with towers and battlements
- Notable features: Throne room with stained glass, ancient library
- Atmosphere: Cold, imposing, echoes with history

Whispering Forest
- Description: Ancient woodland with silver-barked trees
- Notable features: Trees seem to whisper warnings
- Danger: Easy to get lost, spirits dwell within
- Atmosphere: Mysterious, beautiful but unsettling

The Resistance Hideout
- Location: Abandoned iron mine in the mountains
- Description: Network of tunnels and caverns
- Population: ~200 rebels
- Defenses: Hidden entrance, guards, magical wards
```

---

## Workflow Guide

### Step-by-Step: Writing Your First Novel

#### Phase 1: Setup (15 minutes)

1. **Create Project**
   - Click "+ New Project"
   - Enter title and genre
   - Paste your complete Story Bible
   - Set target word count

2. **Review Project Settings**
   - Check AI model selection (recommend Sonnet)
   - Set chapter word count target
   - Configure auto-save interval

#### Phase 2: Generate Foundation (30-60 minutes)

3. **Generate First 3 Chapters**
   - Generate Chapter 1
   - Wait for completion (~3 minutes)
   - Review continuity score
   - Read the chapter
   - Generate Chapter 2
   - Repeat for Chapter 3

4. **Establish Quality Baseline**
   - Read all 3 chapters carefully
   - Check continuity reports
   - Make any necessary edits
   - Verify characters match Story Bible
   - Confirm plot is progressing correctly

#### Phase 3: Batch Generation (Variable)

5. **Queue Up Chapters**
   - Use "Batch Generate" for chapters 4-10
   - System will generate 2-3 at a time
   - Each chapter: ~3 minutes
   - Total time for 7 chapters: ~20-25 minutes

6. **Review & Edit**
   - Review each chapter's continuity report
   - Fix any flagged issues
   - Make editorial changes
   - Save frequently (auto-save every 30s)

#### Phase 4: Ongoing Management

7. **Monitor Progress**
   - Check overall continuity score
   - Review character tracker
   - Check timeline
   - Verify plot points

8. **Generate Remaining Chapters**
   - Generate in batches of 5-10
   - Review and edit each batch before proceeding
   - Adjust Story Bible if needed (for future chapters)

#### Phase 5: Final Review

9. **Complete Continuity Check**
   - Run full continuity check on all chapters
   - Review all flagged issues
   - Make final edits

10. **Export**
    - Choose export format (DOCX recommended)
    - Select all chapters
    - Configure formatting options
    - Download your completed novel!

---

## Understanding the AI Agents

### How They Work Together

```
Story Bible + Previous Chapters
           ‚Üì
    [ARCHITECT AGENT]
    Creates chapter brief
           ‚Üì
    [STORY BIBLE ENFORCER]
    Validates brief against rules
           ‚Üì
    [WRITER AGENT]
    Writes full chapter
           ‚Üì
    [CONTINUITY AGENT]
    Deep continuity check
           ‚Üì
    [CHARACTER AGENT]
    Extracts character info
           ‚Üì
    [TIMELINE AGENT]
    Records events
           ‚Üì
    Completed, verified chapter
```

### Agent Prompts (How They Think)

#### Architect Agent Checklist:
- ‚úì Does this advance the main plot?
- ‚úì Are characters acting consistently?
- ‚úì Does timeline make sense?
- ‚úì Are plot points addressed?
- ‚úì Does it set up future chapters?
- ‚úì Is pacing appropriate?

#### Writer Agent Checklist:
- ‚úì Follow the brief exactly
- ‚úì Match writing style from Story Bible
- ‚úì Show don't tell
- ‚úì Consistent character voices
- ‚úì Vivid descriptions
- ‚úì Hit target word count
- ‚úì End with hook/tension

#### Continuity Agent Checklist:
- ‚úì Physical descriptions match?
- ‚úì Characters know appropriate info?
- ‚úì Location descriptions consistent?
- ‚úì Timeline logical?
- ‚úì Plot events in order?
- ‚úì No contradictions?
- ‚úì Consequences acknowledged?

---

## Continuity System Explained

### The 5 Continuity Categories

#### 1. Character Continuity (30% of score)

**What it checks:**
- Physical appearance (hair color, height, eyes, scars, etc.)
- Character knowledge (do they remember previous events?)
- Personality consistency (acting in character?)
- Skills and abilities (no sudden expert-level skills)
- Relationships (progression makes sense?)

**Example issues:**
- ‚ùå Chapter 3: "Marcus had blue eyes"
- ‚ùå Chapter 10: "Marcus's brown eyes narrowed"
- ‚úì **Score: Low** - Physical contradiction

#### 2. Plot Continuity (25% of score)

**What it checks:**
- Events happen in logical order
- No plot holes
- Consequences of actions acknowledged
- Plot points addressed as planned
- Subplots progress naturally

**Example issues:**
- ‚ùå Chapter 5: Elena loses her sword in a river
- ‚ùå Chapter 6: No mention of needing a new sword
- ‚úì **Score: Medium** - Continuity break

#### 3. Location Continuity (15% of score)

**What it checks:**
- Places described consistently
- Travel time realistic
- Geography makes sense
- Weather appropriate for location
- Architecture consistent

**Example issues:**
- ‚ùå Chapter 2: Castle has 5 towers
- ‚ùå Chapter 12: Castle has 7 towers
- ‚úì **Score: Low** - Location inconsistency

#### 4. Timeline Continuity (20% of score)

**What it checks:**
- Time passage is logical
- No temporal impossibilities
- Season changes make sense
- Events referenced correctly
- Character ages progress

**Example issues:**
- ‚ùå Chapter 8: "Two weeks since the battle"
- ‚ùå Chapter 9: "Yesterday's battle"
- ‚úì **Score: Low** - Timeline error

#### 5. Story Bible Compliance (10% of score)

**What it checks:**
- Magic system used correctly
- Technology level consistent
- Society rules followed
- Tone matches guidelines
- Themes present

**Example issues:**
- ‚ùå Story Bible: "Magic drains energy"
- ‚ùå Chapter: Character casts spells all day with no fatigue
- ‚úì **Score: Low** - Rule violation

### Scoring Breakdown

**90-100: Perfect Continuity**
- Zero major issues
- Maybe 1-2 trivial inconsistencies
- Ready to publish

**75-89: Good Continuity**
- 1-3 minor issues
- Easy fixes
- Chapter is solid

**60-74: Moderate Issues**
- Several noticeable problems
- Requires editing
- Core story is sound

**Below 60: Significant Problems**
- Major continuity breaks
- Should regenerate or heavily edit
- May affect reader experience

---

## Advanced Features

### Character State Tracking

The system automatically tracks for each character in each chapter:

**Knowledge State:**
```json
{
  "character": "Elena",
  "chapter": 5,
  "knowledge": [
    "Malric usurped the throne",
    "Her father was murdered (not accident)",
    "She has magical powers",
    "The resistance exists"
  ]
}
```

This prevents errors like characters knowing things they shouldn't.

**Physical State:**
```json
{
  "character": "Marcus",
  "chapter": 8,
  "injuries": [
    {
      "injury": "Arrow wound in left shoulder",
      "severity": "moderate",
      "acquired_chapter": 6
    }
  ],
  "location": "Resistance hideout",
  "possessions": ["Father's sword", "Stolen guard uniform"]
}
```

### Plot Point Tracking

Define plot points in your Story Bible, and the system tracks them:

```javascript
PlotPoint: "Elena discovers her magical powers"
- Status: Planned (chapters 1-4)
- Status: Introduced (chapter 5)
- Status: Developing (chapters 6-10)
- Status: Resolved (chapter 18)
```

### Timeline Visualization

After generating chapters, view an automatic timeline:

```
Day 1, Evening: Elena's birthday celebration
Day 1, Midnight: Malric's coup begins
Day 2, Dawn: Elena escapes the castle
Day 2-5: Journey through Whispering Forest
Day 6: Arrives at resistance hideout
Week 2: Magic training begins
...
```

### Relationship Tracking

The system maps character relationships:

```
Elena ‚Üí Marcus: Trust (+85), Respect (+90), Friendship (+70)
Elena ‚Üí Malric: Fear (+60), Hatred (+80), Family (-50)
Marcus ‚Üí Elena: Protective (+95), Loyal (+100), Guilt (+40)
```

Changes are tracked across chapters.

---

## Tips for Best Results

### 1. Write a Comprehensive Story Bible

**Too Vague:**
```
Setting: Fantasy world with magic
Characters: A princess and her guard
Plot: She fights evil
```

**Perfect:**
```
Setting: Medieval fantasy, Kingdom of Eldoria, year 1247...
[Full detailed descriptions as shown earlier]
```

### 2. Generate Sequentially First

For your first 5-10 chapters, generate one at a time. This allows you to:
- Catch issues early
- Adjust course if needed
- Build confidence in the system

Once you're happy with the quality, batch generate.

### 3. Review Continuity Reports

Don't just trust the score - read the issues:

```
Continuity Score: 82 (Good)

Minor Issues:
1. Character Issue (Low):
   - In Ch 4, Elena wore a blue dress
   - In Ch 6, described as green dress
   - Suggestion: Clarify she changed clothes

2. Timeline Issue (Low):
   - Ch 5: "Three days later"
   - But events only span 1 day
   - Suggestion: Adjust timeframe
```

Fix these before generating the next chapter.

### 4. Update Story Bible as Needed

If the story naturally evolves:
- Add new characters to Story Bible
- Update plot outline
- Add new locations

This helps future chapters maintain consistency.

### 5. Use Revisions Wisely

Every time you edit a chapter, it creates a revision. You can:
- View all revisions
- Compare versions side-by-side
- Rollback to previous version

### 6. Batch Generate Smart

Good batch sizes:
- ‚úì First experience: 1 chapter at a time
- ‚úì Once comfortable: 3-5 chapters
- ‚úì For middle sections: 5-10 chapters
- ‚ùå Don't: Generate all 26 chapters at once

### 7. Edit in Iterations

**First Pass:** Read for story and flow
**Second Pass:** Check continuity issues
**Third Pass:** Polish prose

### 8. Export Regularly

Export your book every 5-10 chapters as backup:
- DOCX for editing in Word
- PDF for reviewing on tablet/phone
- Keep multiple versions

---

## Troubleshooting

### Issue: Low Continuity Scores

**Diagnosis:**
- Check which category is flagged (character, plot, location, timeline, story bible)
- Read the specific issues listed

**Solutions:**
1. If character issues: Add more physical description details to Story Bible
2. If plot issues: Review your plot outline, may be too vague
3. If location issues: Create a location registry in Story Bible
4. If timeline issues: Be explicit about time passage
5. If story bible issues: Add more rules and constraints

### Issue: AI Not Following Story Bible

**Diagnosis:**
- Story Bible may be too long (over 10,000 words)
- Story Bible may have contradictions
- Rules may be too vague

**Solutions:**
1. Shorten Story Bible to most critical info
2. Remove contradictions
3. Be more specific with rules:
   - ‚ùå "Characters should be realistic"
   - ‚úì "Characters must have flaws and make mistakes based on their personalities"

### Issue: Chapters Too Long/Short

**Solution:**
In your Story Bible, specify:
```
TARGET: Each chapter should be 4,500-5,500 words
- About 18-22 pages in standard manuscript format
- Roughly 10-12 scenes per chapter
```

### Issue: Writing Style Inconsistent

**Solution:**
Add style examples to Story Bible:
```
WRITING STYLE EXAMPLE:

Good:
"Elena's fingers trembled as she gripped the sword. Cold steel.
Heavy. Foreign. She'd held practice blades before, but never
in earnest, never with enemies at the gate."

Avoid:
"Elena was nervous about holding the sword because she had
never used one before in a real battle."
```

### Issue: Plot Going Off-Track

**Solution:**
1. Review the chapter brief BEFORE it's written
2. If brief is wrong, regenerate it
3. Add more specific plot points to Story Bible
4. Use the "Chapter Brief" view to guide generation

### Issue: Characters Acting Out of Character

**Solution:**
In Story Bible, add "Character Voice" section:

```
ELENA'S VOICE:
- In public: "Your Grace, we must consider..." (formal, diplomatic)
- With Marcus: "Come on, you know I'm right." (playful, casual)
- When angry: Short sentences. Clipped. No flowery language.
- When scared: Internal monologue, rapid thoughts
- Never says: Modern slang, crude language
```

---

## FAQ

**Q: Can I edit chapters after they're generated?**
A: Yes! Click on any chapter and edit freely. Changes are auto-saved.

**Q: Can I regenerate a single chapter?**
A: Yes, but note that regenerating will create a new version. Previous version is saved in revisions.

**Q: How long does it take to write a full novel?**
A: For a 26-chapter novel (130,000 words):
- Generation time: ~60-90 minutes (if batched)
- Review/edit time: ~10-20 hours
- Total: 1-2 weeks of part-time work

**Q: Can I export mid-project?**
A: Yes! Export any completed chapters at any time.

**Q: Does it work for non-fiction?**
A: Yes, but it's optimized for fiction. For non-fiction, adjust your Story Bible to include:
- Thesis/argument
- Research sources
- Tone (academic, casual, persuasive)
- Target audience

**Q: Can multiple people work on the same project?**
A: Currently, it's designed for single-user. But you can export chapters and share them.

**Q: What if I want to change the plot midway?**
A: Update your Story Bible with the new plot direction BEFORE generating new chapters.

**Q: Can I use different AI models for different chapters?**
A: Yes, change the model in settings. But for consistency, stick with one model per project.

**Q: How much does it cost to write a novel?**
A: For a 130,000-word novel using Claude Sonnet: ~$65-130 in API costs.

---

## Advanced Workflows

### Workflow 1: Discovery Writer (Pantser)

If you prefer not to outline heavily:

1. Write a minimal Story Bible:
   - Core characters
   - Setting basics
   - Tone/style
   - Starting scenario

2. Generate Chapter 1

3. After each chapter:
   - Update Story Bible with what happened
   - Add new characters/locations
   - Adjust direction

4. Let the story emerge naturally

### Workflow 2: Plotter

If you outline extensively:

1. Write a detailed Story Bible with:
   - Every chapter outlined
   - All characters planned
   - Complete world-building

2. Generate all briefs first (for all 26 chapters)

3. Review all briefs, edit as needed

4. Batch generate all chapters

5. Final editing pass

### Workflow 3: Hybrid

1. Outline Act I in detail
2. Generate Act I (chapters 1-7)
3. Review and decide on Act II direction
4. Outline Act II
5. Generate Act II (chapters 8-18)
6. Repeat for Act III

---

## Exporting Your Finished Novel

### Export Options

**DOCX (Recommended for editing):**
- Opens in Microsoft Word, Google Docs, LibreOffice
- Fully editable
- Includes formatting
- Can add more revisions

**PDF (For reviewing/sharing):**
- Professional appearance
- Not editable (good for beta readers)
- Smaller file size

**TXT (Plain text):**
- No formatting
- Good for importing to other software
- Smallest file size

### Manuscript Formatting

Standard manuscript format includes:
- 12pt Times New Roman
- Double-spaced
- 1-inch margins
- Chapter headings
- Page numbers
- Word count on title page

The system applies these automatically.

---

## Conclusion

You now have everything you need to write professional-quality novels with perfect continuity!

**Remember the keys to success:**
1. Detailed Story Bible
2. Review continuity reports
3. Edit as you go
4. Trust the system but verify
5. Export regularly

**Happy writing! üìö‚ú®**

For technical issues, see SETUP-INSTRUCTIONS.md
For system architecture details, see architecture.md
